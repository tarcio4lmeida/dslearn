## üì¶ TESTES - TAREFA: DESAFIO03

### Desafio com Spring Validation & Security

![img.png](img.png)

## Anotations de testes

| Name                                    | Description                                                                                                                                      |
|-----------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------|
| `@SpringBootTest`                       | Carrega o contexto da aplica√ß√£o (teste de integra√ß√£o)                                                                                            |
| `@SpringBootTest @AutoConfigureMockMvc` | Carrega o contexto da aplica√ß√£o (teste de integra√ß√£o & web) Trata as requisi√ß√µes sem subir o servidor                                            |
| `@WebMvcTest(Classe.class)`             | Carrega o contexto, por√©m somente da camada web (teste de unidade: controlador)                                                                  |
| `@ExtendWith(SpringExtension.class)`    | N√£o carrega o contexto, mas permite usar os recursos do Spring com JUnit (teste de unidade: service/component)                                   |
| `@DataJpaTest`                          | Carrega somente os componentes relacionados ao Spring Data JPA. Cada teste √© transacional e d√° rollback ao final. (teste de unidade: repository) |

### Fixtures


| JUnit 5       | Objetivo                                                      |
|---------------|---------------------------------------------------------------|
| `@BeforeAll`  | Prepara√ß√£o antes de todos testes da classe (m√©todo est√°tico)  |
| `@AfterAll`   | Prepara√ß√£o depois de todos testes da classe (m√©todo est√°tico) |
| `@BeforeEach` | Prepara√ß√£o antes de cada teste da classe                      |
| `@AfterEach`  | Prepara√ß√£o depois de cada teste da classe                     |

### Mockito vs @MockBean

| JUnit 5                                                               | Objetivo                                                                                                                           |
|-----------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------|
| `@Mock private MyComp myComp ou myComp = Mockito.mock(MyComp.class);` | Usar quando a classe de teste n√£o carrega o contexto da aplica√ß√£o. √â mais r√°pido e enxuto. @ExtendWith                             |
| `@MockBean private MyComp myComp;`                                    | Usar quando a classe de teste carrega o contexto da aplica√ß√£o e precisa mockar algum bean do sistema. @WebMvcTest @SpringBootTest  |
